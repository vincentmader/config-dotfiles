#!/bin/sh

# echo "ZSHENV"

# -----------------------------------------------------------------------------
# 			      $CONF/zsh/zshenv
# -----------------------------------------------------------------------------

# ENVIRONMENT VARIABLE DEFINITION
# =============================================================================

    # user
    export USER="vinc"

    # home
    if [[ "$OSTYPE" == "darwin"* ]]; then
        export HOME="/Users/$USER"
    elif [[ "$OSTYPE" == "linux"* ]]; then
        export HOME="/home/$USER"
    fi

    # config, docs & code
    export CONF="$HOME/.config"
        # export CODE="$DOCS/code"
        # export DOCS="$HOME/Documents"

# LOCALE SETTINGS
# =============================================================================

    export LC_CTYPE=en_US.UTF-8
    export LC_ALL=en_US.UTF-8

# history
# -----------------------------------------------------------------------------

    export HISTSIZE=10000
    export SAVEHIST=10000
    export HISTFILE="$CONF/zsh/zsh_history"

# DATABASE SETUP
# =============================================================================

    if [[ "$OSTYPE" == "darwin"* ]]; then
        # mysql
        export PATH="/opt/homebrew/opt/libpq/bin:$PATH"
        # export LDFLAGS="-L/opt/homebrew/opt/libpq/lib"
        # export CPPFLAGS="-I/opt/homebrew/opt/libpq/include"
        # export PKG_CONFIG_PATH="/opt/homebrew/opt/libpq/lib/pkgconfig"

        # postgresql
        export PATH="/opt/homebrew/opt/mysql-client/bin:$PATH"
        # export LDFLAGS="-L/opt/homebrew/opt/mysql-client/lib"
        # export CPPFLAGS="-I/opt/homebrew/opt/mysql-client/include"
        # export PKG_CONFIG_PATH="/opt/homebrew/opt/mysql-client/lib/pkgconfig"
    elif [[ "$OSTYPE" == "linux"* ]]; then
        echo  # TODO
    fi
# 
# =============================================================================  

    if [[ "$OSTYPE" == "darwin"* ]]; then
        eval $(/opt/homebrew/bin/brew shellenv)
    elif [[ "$OSTYPE" == "linux"* ]]; then
        echo # TODO
    fi

    # rust   (TODO needed?)
    source $HOME/.cargo/env
    # emsdk  (TODO needed?)
    source $CONF/emsdk/emsdk_env.sh 2> /dev/null  # source quietly

# =============================================================================  

